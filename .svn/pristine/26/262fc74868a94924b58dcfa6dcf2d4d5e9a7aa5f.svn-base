<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>北京E追溯管理平台</title>
    <link rel="shortcut icon" href="images/icon.ico">
    <link rel="stylesheet" type="text/css" href="styles/base.css">
    <link rel="stylesheet" type="text/css" href="font/iconfont.css">
    <script type="text/javascript" src="scripts/jslib/jquery-1.10.2.min.js"></script>
    <link rel="stylesheet" type="text/css" href="scripts/jsplug/nice-validator/dist/jquery.validator.css">
    <script type="text/javascript" src="scripts/jsplug/nice-validator/dist/jquery.validator.min.js"></script>
    <script type="text/javascript" src="scripts/jsplug/nice-validator/dist/local/zh-CN.js"></script>
    <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="scripts/jsplug/main.js"></script>
</head>
<div class="m-crumbs ">您当前的位置：
    <ol class="breadcrumb">
        <li><a href="javascript:history.go(-1);">物品管理</a></li>
        <li><a href="#">批量添加</a></li>
    </ol>
</div>
<form class="form-horizontal m-h-form" name="goodsAddForm" action="" data-validator-option="{timely:2, focusCleanup:true}">
    <div class="form-group">
        <label for="firstname" class="col-sm-2 control-label">选择企业</label>
        <div class="col-sm-10 ">
            <input class="form-control"  name="companyname"  type="text" placeholder="请输入3~10位整数" maxlength="10" data-rule="required;companyname;">
        </div>
    </div>
    <div class="form-group">
        <label for="lastname" class="col-sm-2 control-label">物品ID</label>
        <div class="col-sm-10">
            <input class="form-control" type="number" placeholder="请输入3~10位整数" maxlength="10">
            <i class="red">*</i>
        </div>
    </div>
    <div class="form-group">
        <label for="lastname" class="col-sm-2 control-label">物品名称</label>
        <div class="col-sm-10">
            <input class="form-control" type="text" maxlength="10">
        </div>
    </div>
    <div class="form-group">
        <label for="lastname" class="col-sm-2 control-label">物品标签</label>
        <div class="col-sm-10 ">
            <input class="form-control" type="number" placeholder="请输入3~10位整数" maxlength="10">
            <i class="red">*</i>
        </div>
    </div>
    <div class="form-group">
        <label for="lastname" class="col-sm-2 control-label">备注</label>
        <div class="col-sm-10 clearfix">
            <textarea rows="4" class="form-control"></textarea>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"></label>
        <div class="col-sm-10 clearfix ">
            <a href="javascript:history.go(-1);" class="btn m-btn-cancel ">取消</a>
            <button class="btn m-btn-right fr" type="submit">保存修改</button>
        </div>
    </div>
    <script type="text/javascript">
    </script>
</form>
<script type="text/javascript">
// 判断是修改还是新增
if (localParam().id) { //id存在就是修改页面
    var id = decodeURI(localParam().id);
    // 请求后台接口
    $.ajax({
        url: 'api/xxx',
        type: 'GET',
        data: {
            id: id
        },
        success: function(data) {

        }
    })


}
//提交表单
$("#organizationform").validate({
    ignore: "",
    rules: {
        organization_type: {
            required: true,
            minlength: 1
        }
    },
    messages: {
        organization_type: "请选择"
    },
    submitHandler: function(myform) {
        $("#btn_add").attr("disabled", "disabled");
        $(myform).ajaxSubmit({
            success: function(data) {
                if (data.result == true) {
                    $.alertMsg(function() {
                        window.location = 'organization.do?method=toIndex'
                    }, "保存成功！");
                } else {
                    $.alertConfirm(null, data.message);
                    $("#btn_add").removeAttr("disabled");
                }
            }
        });
    }
});

$.validator.addMethod("nation_val", function(value, element, params) {
    if ($("#nationId").val() == "1" && $("#province").val() == "") {
        return false;
    }
    return true;
}, "必选");
</script>
</body>

</html>
